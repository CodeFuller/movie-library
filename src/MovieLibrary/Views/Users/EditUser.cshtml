@{
    ViewData["Title"] = $"Edit User {Model.UserName}";
}

@model MovieLibrary.UserManagement.ViewModels.Users.UserDetailsViewModel;

<form method="post" asp-action="UpdateUser">
    <table class="table table-hover table-responsive">
        <thead>
        <tr>
            <th scope="col">Role</th>
            <th class="text-center" scope="col">Assigned</th>
        </tr>
        </thead>
        <tbody>
        @for (var i = 0; i < Model.Roles.Count; ++i)
        {
            <tr>
                <td>@Model.Roles[i].RoleName</td>
                <td class="text-center">
                    @if (Model.Roles[i].ReadOnly)
                    {
                        <input type="checkbox" disabled asp-for="Roles[i].Assigned" />
                        <input type="hidden" asp-for="Roles[i].Assigned" />
                    }
                    else
                    {
                        <input type="checkbox" asp-for="Roles[i].Assigned" />
                    }
                    <input type="hidden" asp-for="Roles[i].RoleName" />
                </td>
            </tr>
        }
        </tbody>
    </table>

    <input type="hidden" asp-for="UserId"/>

    <button class="btn btn-primary" type="submit">Update</button>
    <a class="btn btn-secondary" asp-action="Index">Cancel</a>
</form>
